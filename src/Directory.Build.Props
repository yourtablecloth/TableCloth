<?xml version="1.0" encoding="UTF-8"?>
<!-- Please do not delete, move, or rename this file (Directory.build.props); MSbuild will automatically read this file by convention. -->
<!-- https://stackoverflow.com/a/74789660 -->
<Project>
	<PropertyGroup>
		<SolutionDir Condition="'$(SolutionDir)'==''">$(MSBuildThisFileDirectory)</SolutionDir>
	</PropertyGroup>

	<!-- Version information - Single source of truth -->
	<PropertyGroup>
		<TableClothVersionMajor>1</TableClothVersionMajor>
		<TableClothVersionMinor>14</TableClothVersionMinor>
		<TableClothVersionPatch>0</TableClothVersionPatch>
		<TableClothVersionRevision>0</TableClothVersionRevision>

		<!-- Computed versions -->
		<TableClothVersion>$(TableClothVersionMajor).$(TableClothVersionMinor).$(TableClothVersionPatch).$(TableClothVersionRevision)</TableClothVersion>
		<TableClothSemVer>$(TableClothVersionMajor).$(TableClothVersionMinor).$(TableClothVersionPatch)</TableClothSemVer>

		<!-- Standard .NET SDK version properties -->
		<Version>$(TableClothSemVer)</Version>
		<AssemblyVersion>$(TableClothVersion)</AssemblyVersion>
		<FileVersion>$(TableClothVersion)</FileVersion>
	</PropertyGroup>

	<!-- Common Metadata -->
	<PropertyGroup>
		<Authors>TableCloth Contributors</Authors>
		<Company>rkttu.com</Company>
		<Product>TableCloth</Product>
		<Copyright>(c) rkttu.com, 2021</Copyright>
		<RepositoryUrl>https://github.com/yourtablecloth/TableCloth</RepositoryUrl>
		<RepositoryType>git</RepositoryType>
		<PackageProjectUrl>https://yourtablecloth.github.io</PackageProjectUrl>
	</PropertyGroup>

	<!-- Workaround for https://github.com/dotnet/wpf/issues/11246 -->
	<Target Name="FixWpfReferences" AfterTargets="ResolveTargetingPackAssets" Condition="'$(UseWPF)' == 'true'">
		<ItemGroup>
			<SystemPrivateWindowsCoreRef Include="@(Reference)" Condition="'%(Filename)' == 'System.Private.Windows.Core'" />
			<ReferencePath Include="@(SystemPrivateWindowsCoreRef->'%(RootDir)%(Directory)System.Private.Windows.GdiPlus.dll')">
				<AssemblyName>System.Private.Windows.GdiPlus</AssemblyName>
			</ReferencePath>
		</ItemGroup>
	</Target>
</Project>